# ===========================
# AGAPE LOOKS Backend Configuration
# ===========================
# Copy this file to .env and configure with actual values
# NEVER commit .env file to version control

# ===========================
# Application Configuration
# ===========================
NODE_ENV=development
PORT=3000
API_VERSION=v1
APP_NAME=AGAPE LOOKS Backend
LOG_LEVEL=info

# ===========================
# Database Configuration (PostgreSQL)
# ===========================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=agape_looks
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=10000

# ===========================
# Redis Configuration
# ===========================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false
REDIS_KEY_PREFIX=agape_looks:

# ===========================
# JWT Configuration
# ===========================
JWT_PRIVATE_KEY_PATH=./keys/jwt-private.pem
JWT_PUBLIC_KEY_PATH=./keys/jwt-public.pem
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=30d
JWT_ISSUER=agape-looks
JWT_AUDIENCE=agape-looks-api

# ===========================
# Security Configuration
# ===========================
BCRYPT_SALT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=15
ENABLE_2FA=true

# ===========================
# Rate Limiting Configuration
# ===========================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_ADMIN_MAX=200

# ===========================
# Paystack Configuration
# ===========================
PAYSTACK_SECRET_KEY=sk_test_your_secret_key_here
PAYSTACK_PUBLIC_KEY=pk_test_your_public_key_here
PAYSTACK_WEBHOOK_SECRET=your_webhook_secret_here
PAYSTACK_BASE_URL=https://api.paystack.co
PAYSTACK_CALLBACK_URL=https://yourdomain.com/api/v1/payments/callback
PAYSTACK_WEBHOOK_URL=https://yourdomain.com/api/v1/payments/webhook

# ===========================
# Cloudinary Configuration
# ===========================
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_FOLDER=agape-wone
CLOUDINARY_SECURE=true

# ===========================
# Resend Configuration
# ===========================
RESEND_API_KEY=re_your_api_key_here
RESEND_FROM_EMAIL=noreply@agapelooks.com
RESEND_FROM_NAME=AGAPE LOOKS
RESEND_REPLY_TO=support@agapelooks.com

# ===========================
# Email Templates
# ===========================
FRONTEND_URL=https://agapelooks.com
EMAIL_VERIFICATION_URL=${FRONTEND_URL}/verify-email
PASSWORD_RESET_URL=${FRONTEND_URL}/reset-password

# ===========================
# Session Configuration
# ===========================
SESSION_COOKIE_NAME=agape_looks_refresh_token
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_COOKIE_MAX_AGE=2592000000

# ===========================
# Cart Configuration
# ===========================
CART_EXPIRY_HOURS=24
CART_ITEM_MAX_QUANTITY=10
CART_SYNC_INTERVAL_MS=300000

# ===========================
# Inventory Configuration
# ===========================
INVENTORY_RESERVATION_TTL_MINUTES=15
INVENTORY_LOW_STOCK_THRESHOLD=10

# ===========================
# Order Configuration
# ===========================
ORDER_NUMBER_PREFIX=AGP
ORDER_TIMEOUT_MINUTES=30
ENABLE_AUTO_CANCEL_UNPAID_ORDERS=true

# ===========================
# Payment Configuration
# ===========================
PAYMENT_WEBHOOK_RETRY_ATTEMPTS=3
PAYMENT_WEBHOOK_RETRY_DELAY_MS=5000
PAYMENT_RECONCILIATION_SCHEDULE=0 2 * * *
PAYMENT_CURRENCY=NGN

# ===========================
# Job Queue Configuration (BullMQ)
# ===========================
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_BACKOFF_TYPE=exponential
QUEUE_BACKOFF_DELAY=5000

# ===========================
# Monitoring & Observability
# ===========================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ===========================
# Feature Flags
# ===========================
FEATURE_2FA_ENABLED=true
FEATURE_SMS_NOTIFICATIONS=false
FEATURE_WHATSAPP_NOTIFICATIONS=false
FEATURE_PROMOTIONAL_EMAILS=true
FEATURE_ANALYTICS=true

# ===========================
# Backup & Maintenance
# ===========================
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE=0 0 * * *
BACKUP_RETENTION_DAYS=30
MAINTENANCE_MODE=false

# ===========================
# CORS Configuration
# ===========================
CORS_ORIGIN=http://localhost:3000,https://agapelooks.com
CORS_CREDENTIALS=true

# ===========================
# File Upload Limits
# ===========================
MAX_FILE_SIZE_MB=10
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp,image/gif
MAX_IMAGES_PER_PRODUCT=10
