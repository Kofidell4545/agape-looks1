'use client'

import Link from "next/link"
import Image from "next/image"
import { ArrowRight, Heart, Shield } from "lucide-react"
import { Button } from "@/components/ui/button"
import { SiteHeader } from "@/components/site-header"
import { SiteFooter } from "@/components/site-footer"
import { ProductCard } from "@/components/product-card"
import { ProductCardSkeleton } from "@/components/loading-skeleton"
import { useFeaturedProducts } from "@/lib/hooks/useProducts"

export default function HomePage() {
  // Fetch featured products from API
  const { data: featuredProducts = [], isLoading, error } = useFeaturedProducts(4)

  return (
    <div className="flex min-h-screen flex-col">
      <SiteHeader />

      <main id="main-content" className="flex-1">
        {/* Hero Section */}
        <section className="relative min-h-[85vh] flex items-center lace-texture">
          <div className="container mx-auto px-4 py-16 md:py-24">
            <div className="grid lg:grid-cols-2 gap-12 items-center">
              {/* Hero Content */}
              <div className="space-y-8">
                <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-red-400 text-white text-sm font-medium">
                  Handwoven in Ghana
                </div>

                <h1 className="font-display text-5xl md:text-6xl lg:text-7xl font-bold leading-tight">
                  Wear your story
                </h1>

                <p className="text-xl md:text-2xl text-muted-foreground leading-relaxed max-w-xl">
                  Authentic Lace fabric and garments, handwoven by skilled Ghanaian artisans. Each piece tells a story
                  of heritage and cultural pride.
                </p>

                <div className="flex flex-wrap gap-4">
                  <Button size="lg" className="gap-2 text-gray-800" asChild>
                    <Link href="/shop">
                      Shop Heritage
                      <ArrowRight className="h-5 w-5" />
                    </Link>
                  </Button>
                  <Button size="lg" variant="outline" className="text-base bg-transparent" asChild>
                    <Link href="/craftsmanship">Learn the Weave</Link>
                  </Button>
                </div>
              </div>

              {/* Hero Image */}
              <div className="relative aspect-[3/4] lg:aspect-square rounded-(--radius-lg) overflow-hidden shadow-card-hover">
                <Image
                  src="/beaded-lace-style2-black-white-bg.png"
                  alt="Model wearing authentic Lace fabric"
                  fill
                  className="object-cover"
                  priority
                  sizes="(max-width: 1024px) 100vw, 50vw"
                />
              </div>
            </div>
          </div>
        </section>

        {/* Featured Products */}
        <section className="py-16 md:py-24 bg-muted/30">
          <div className="container mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="font-display text-3xl md:text-4xl font-bold mb-4">Featured Collections</h2>
              <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                Discover our curated selection of premium Lace pieces, each handwoven with care and tradition
              </p>
            </div>

            {/* Loading State */}
            {isLoading && (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                {[...Array(4)].map((_, i) => (
                  <ProductCardSkeleton key={i} />
                ))}
              </div>
            )}

            {/* Error State */}
            {error && (
              <div className="text-center py-12">
                <p className="text-destructive mb-4">Failed to load featured products</p>
                <Button onClick={() => window.location.reload()} variant="outline">
                  Retry
                </Button>
              </div>
            )}

            {/* Products Grid */}
            {!isLoading && !error && featuredProducts.length > 0 && (
              <>
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                  {featuredProducts.map((product) => (
                    <ProductCard key={product.id} product={product} />
                  ))}
                </div>

                <div className="text-center">
                  <Button variant="outline" size="lg" asChild>
                    <Link href="/shop">
                      View All Products
                      <ArrowRight className="ml-2 h-5 w-5" />
                    </Link>
                  </Button>
                </div>
              </>
            )}
          </div>
        </section>

        {/* Craftsmanship Section */}
        <section className="py-16 md:py-24">
          <div className="container mx-auto px-4">
            <div className="grid lg:grid-cols-2 gap-12 items-center">
              <div className="relative aspect-[4/3] rounded-(--radius-lg) overflow-hidden shadow-card">
                <Image
                  src="/ghanaian-weaver-making-kente-loom.jpg"
                  alt="Ghanaian weaver crafting Lace on traditional loom"
                  fill
                  className="object-cover"
                  sizes="(max-width: 1024px) 100vw, 50vw"
                />
              </div>

              <div className="space-y-6">
                <h2 className="font-display text-3xl md:text-4xl font-bold">The Art of Lace Making</h2>
                <p className="text-lg text-muted-foreground leading-relaxed">
                  Each Lace is meticulously handwoven on traditional looms by master craftsmen who have inherited
                  their skills through generations. The intricate patterns and vibrant colors are not just
                  beautifulâ€”they carry deep cultural meanings and stories.
                </p>
                <p className="text-lg text-muted-foreground leading-relaxed">
                  From the royal courts of the Asante Kingdom to modern fashion runways, Lace has remained a powerful
                  symbol of African heritage and artistic excellence.
                </p>
                <Button variant="outline" size="lg" asChild>
                  <Link href="/craftsmanship">
                    Discover Our Process
                    <ArrowRight className="ml-2 h-5 w-5" />
                  </Link>
                </Button>
              </div>
            </div>
          </div>
        </section>

        {/* Trust Signals */}
        <section className="py-16 bg-muted/30">
          <div className="container mx-auto px-4">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              <div className="text-center space-y-3">
                <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary mb-2">
                  <Shield className="h-8 w-8" />
                </div>
                <h3 className="font-display text-xl font-semibold">Authenticity Guaranteed</h3>
                <p className="text-muted-foreground">
                  Every piece is certified authentic, handwoven by skilled Ghanaian artisans
                </p>
              </div>

              <div className="text-center space-y-3">
                <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary mb-2">
                  <Heart className="h-8 w-8" />
                </div>
                <h3 className="font-display text-xl font-semibold">Supporting Local Artisans</h3>
                <p className="text-muted-foreground">Your purchase directly supports weaving communities in Ghana</p>
              </div>

              <div className="text-center space-y-3">
                <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 text-primary mb-2">
                </div>
                <h3 className="font-display text-xl font-semibold">Premium Quality</h3>
                <p className="text-muted-foreground">
                  Finest materials and traditional techniques ensure lasting beauty
                </p>
              </div>
            </div>
          </div>
        </section>

        {/* Newsletter CTA */}
        <section className="py-16 md:py-24">
          <div className="container mx-auto px-4">
            <div className="max-w-2xl mx-auto text-center space-y-6">
              <h2 className="font-display text-3xl md:text-4xl font-bold">Join Our Community</h2>
              <p className="text-lg text-muted-foreground">
                Get 5% off your first order and stay updated on new arrivals, exclusive collections, and the stories
                behind our Lace
              </p>
              <form className="flex flex-col sm:flex-row gap-3 max-w-md mx-auto">
                <input
                  type="email"
                  placeholder="Enter your email"
                  className="flex-1 px-4 py-3 rounded-(--radius-sm) border border-input bg-background"
                  aria-label="Email for newsletter"
                />
                <Button type="submit" size="lg">
                  Subscribe
                </Button>
              </form>
            </div>
          </div>
        </section>
      </main>

      <SiteFooter />
    </div>
  )
}
